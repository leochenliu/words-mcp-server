# MCP 背单词服务器 - 用户故事文档

## 1. 文档概述

本文档包含MCP背单词服务器项目的所有用户故事，按功能模块分类，每个故事都包含详细的验收标准。

## 2. 用户角色定义

- **学习者 (Learner)**: 使用平台学习英语词汇的用户
- **教师 (Teacher)**: 管理学生学习进度的教育工作者
- **管理员 (Admin)**: 系统管理和维护人员
- **访客 (Visitor)**: 未注册的潜在用户

## 3. 用户故事

### 3.1 用户管理模块

#### US-001: 用户注册
**作为** 访客  
**我希望** 能够注册一个新账户  
**以便** 开始使用背单词服务  

**验收标准:**
- [ ] 用户可以通过邮箱注册
- [ ] 用户可以通过手机号注册
- [ ] 支持第三方登录（微信、QQ、Google）
- [ ] 密码强度验证（至少8位，包含字母和数字）
- [ ] 邮箱/手机号验证码验证
- [ ] 注册成功后自动登录
- [ ] 重复邮箱/手机号提示已存在

**优先级:** 高  
**故事点数:** 5  
**依赖:** 无

---

#### US-002: 用户登录
**作为** 学习者  
**我希望** 能够登录我的账户  
**以便** 访问我的学习数据和进度  

**验收标准:**
- [ ] 支持邮箱/用户名登录
- [ ] 支持手机号登录
- [ ] 支持第三方登录
- [ ] 记住登录状态（可选）
- [ ] 错误密码3次后锁定账户30分钟
- [ ] 忘记密码功能
- [ ] 登录成功后跳转到个人主页

**优先级:** 高  
**故事点数:** 3  
**依赖:** US-001

---

#### US-003: 英语水平评估
**作为** 新注册的学习者  
**我希望** 进行英语水平测试  
**以便** 系统为我推荐合适难度的词汇  

**验收标准:**
- [ ] 包含20-30道测试题
- [ ] 涵盖词汇、语法、阅读理解
- [ ] 测试时间限制为15分钟
- [ ] 根据答题情况评估用户水平（初级/中级/高级）
- [ ] 测试结果影响后续词汇推荐
- [ ] 用户可以跳过测试（默认中级）
- [ ] 支持重新测试（每月一次）

**优先级:** 中  
**故事点数:** 8  
**依赖:** US-002

---

### 3.2 词汇管理模块

#### US-004: 浏览词库
**作为** 学习者  
**我希望** 能够浏览可用的词库  
**以便** 选择适合我学习目标的词汇集合  

**验收标准:**
- [ ] 显示所有可用词库列表
- [ ] 按分类筛选（四六级、托福、雅思、GRE等）
- [ ] 按难度筛选
- [ ] 显示词库详情（词汇数量、难度、描述）
- [ ] 支持词库预览（前10个词汇）
- [ ] 显示学习进度（已学/总数）

**优先级:** 高  
**故事点数:** 5  
**依赖:** US-002

---

#### US-005: 选择学习词库
**作为** 学习者  
**我希望** 能够选择一个或多个词库进行学习  
**以便** 专注于我的学习目标  

**验收标准:**
- [ ] 可以选择单个词库
- [ ] 可以同时选择多个词库
- [ ] 显示选中词库的总词汇数
- [ ] 估算完成时间
- [ ] 确认选择后开始生成学习计划
- [ ] 可以随时更改词库选择

**优先级:** 高  
**故事点数:** 3  
**依赖:** US-004

---

#### US-006: 自定义词库
**作为** 学习者  
**我希望** 能够创建自己的词库  
**以便** 学习特定领域的词汇  

**验收标准:**
- [ ] 可以手动添加单词
- [ ] 支持批量导入（CSV、TXT格式）
- [ ] 为每个单词添加释义、例句
- [ ] 设置词库名称和描述
- [ ] 设置词库为公开或私有
- [ ] 支持编辑和删除自定义词库
- [ ] 导入格式验证和错误提示

**优先级:** 中  
**故事点数:** 8  
**依赖:** US-002

---

### 3.3 学习引擎模块

#### US-007: 开始学习会话
**作为** 学习者  
**我希望** 通过命令行开始一个学习会话  
**以便** 能够系统地学习新词汇并巩固已学内容

**命令行交互流程**
1. 输入命令启动学习：
   ```
   mcp learn [模式] [选项]
   ```
   可用模式：
   - `new`: 新词学习（默认每日20个新词）
   - `review`: 复习模式（基于遗忘曲线）
   - `focus`: 专项突破（针对薄弱词汇）
   - `test`: 测试模式（模拟考试）

2. 学习会话示例：
   - 新词学习流程：
     ```
     当前单词: apple [ˈæpəl] (n.)
     例句1: I eat an apple every day.
     例句2: The apple is red and juicy.
     记忆提示: 联想"a"像苹果形状
     
     请选择操作:
     1. 听发音  2. 更多例句  3. 标记困难  4. 下一词
     ```
   - 测试模式：
     ```
     问题: apple的中文意思是？
     选项:
     1. 苹果  2. 香蕉  3. 梨子
     请输入选项编号:
     ```

3. 会话控制命令：
   - `pause`: 暂停当前会话
   - `resume`: 继续上次会话
   - `stats`: 查看学习统计
   - `exit`: 退出学习

**验收标准**
- 新用户首次学习：
  - 自动显示简明的命令行帮助
  - 提供基础词汇入门包
- 老用户继续学习：
  - 自动加载上次学习进度
  - 支持`--continue`参数继续上次会话
- 学习数据：
  - 所有操作记录保存到本地`.mcp_history`文件
  - 支持`--sync`参数同步云端
- 命令行要求：
  - 清晰的文本格式和颜色区分
  - 支持快捷键操作
  - 完整的错误提示和帮助信息

**优先级**: 最高
**技术备注**: 需要实现命令行解析器和文本交互引擎

**作为** 一个学习者  
**我希望** 在遇到网络中断、服务器错误或学习资源不可用时  
**能够** 收到清晰友好的错误提示和恢复建议  
**以便** 我可以理解问题原因并采取适当行动继续学习  

**验收标准**  
- 当网络中断时：  
  - 显示"网络连接已断开"提示  
  - 提供自动重连机制(每10秒尝试一次)  
  - 保存当前学习进度到本地  
  - 网络恢复后自动同步进度  
- 当服务器错误时(5xx)：  
  - 显示"服务暂时不可用，请稍后再试"  
  - 提供预计恢复时间(如已知)  
  - 提供联系支持的方式  
- 当学习资源不可用时：  
  - 显示"当前学习内容暂不可用"  
  - 推荐相似的可替代学习内容  
  - 提供问题反馈入口  
- 所有错误提示：  
  - 使用非技术性语言  
  - 包含友好的表情符号(如😢)  
  - 提供明确的下一步行动建议  
  - 保持界面风格一致  

**优先级**: 高  
**技术备注**: 需要实现前端错误拦截器和后端优雅降级机制
**以便** 学习新的词汇  

**验收标准:**
- [ ] 点击开始学习按钮
- [ ] 系统根据算法推荐下一批词汇
- [ ] 显示学习进度（当前/总数）
- [ ] 支持设置学习数量（10/20/50个词）
- [ ] 显示预计学习时间
- [ ] 可以暂停和恢复学习

**优先级:** 高  
**故事点数:** 5  
**依赖:** US-005

---

#### US-008: 词汇学习交互
**作为** 学习者  
**我希望** 通过多种方式学习词汇  
**以便** 更好地记忆和理解单词  

**验收标准:**
- [ ] 显示单词和音标
- [ ] 播放单词发音
- [ ] 显示中文释义
- [ ] 显示英文例句
- [ ] 支持多种学习模式：
  - [ ] 认识模式（看词选义）
  - [ ] 拼写模式（听音拼词）
  - [ ] 选择模式（选择正确释义）
  - [ ] 造句模式（用词造句）
- [ ] 标记掌握程度（认识/模糊/不认识）
- [ ] 支持添加个人笔记

**优先级:** 高  
**故事点数:** 13  
**依赖:** US-007

---

#### US-009: 智能复习
**作为** 学习者  
**我希望** 系统能够智能安排复习  
**以便** 巩固已学词汇，提高记忆效果  

**验收标准:**
- [ ] 基于艾宾浩斯遗忘曲线安排复习
- [ ] 根据掌握程度调整复习频率
- [ ] 复习提醒通知
- [ ] 复习词汇优先级排序
- [ ] 复习模式与学习模式一致
- [ ] 记录复习效果，调整算法参数
- [ ] 支持手动触发复习

**优先级:** 高  
**故事点数:** 13  
**依赖:** US-008

---

### 3.4 进度跟踪模块

#### US-010: 查看学习统计
**作为** 学习者  
**我希望** 查看我的学习统计数据  
**以便** 了解我的学习进度和效果  

**验收标准:**
- [ ] 显示总学习天数
- [ ] 显示累计学习词汇数
- [ ] 显示当前掌握词汇数
- [ ] 显示学习时长统计
- [ ] 显示学习效率趋势图
- [ ] 显示词库完成进度
- [ ] 支持按时间范围筛选（周/月/年）

**优先级:** 中  
**故事点数:** 8  
**依赖:** US-008

---

#### US-011: 学习日历
**作为** 学习者  
**我希望** 查看学习日历  
**以便** 跟踪我的学习习惯和连续学习天数  

**验收标准:**
- [ ] 日历视图显示每日学习状态
- [ ] 不同颜色表示学习强度
- [ ] 显示连续学习天数
- [ ] 点击日期查看当日学习详情
- [ ] 显示学习目标完成情况
- [ ] 支持设置学习提醒

**优先级:** 中  
**故事点数:** 5  
**依赖:** US-008

---

#### US-012: 成就系统
**作为** 学习者  
**我希望** 获得学习成就和奖励  
**以便** 保持学习动力  

**验收标准:**
- [ ] 设置多种成就类型：
  - [ ] 连续学习天数
  - [ ] 累计学习词汇数
  - [ ] 完成词库数量
  - [ ] 学习时长里程碑
- [ ] 成就解锁通知
- [ ] 成就展示页面
- [ ] 成就分享功能
- [ ] 成就进度提示
- [ ] 特殊成就奖励（头像、称号等）

**优先级:** 低  
**故事点数:** 8  
**依赖:** US-010

---

### 3.5 智能推荐模块

#### US-013: 个性化词汇推荐
**作为** 学习者  
**我希望** 系统能够推荐适合我的词汇  
**以便** 提高学习效率  

**验收标准:**
- [ ] 基于用户水平推荐词汇
- [ ] 考虑学习历史和掌握情况
- [ ] 优先推荐高频词汇
- [ ] 避免推荐已掌握的词汇
- [ ] 支持难度梯度调整
- [ ] 推荐理由说明
- [ ] 用户反馈机制（喜欢/不喜欢）

**优先级:** 高  
**故事点数:** 13  
**依赖:** US-003, US-008

---

#### US-014: 学习计划生成
**作为** 学习者  
**我希望** 系统为我生成个性化学习计划  
**以便** 有序地完成学习目标  

**验收标准:**
- [ ] 根据目标考试生成计划
- [ ] 考虑用户可用时间
- [ ] 设置每日学习任务
- [ ] 计划进度跟踪
- [ ] 支持计划调整
- [ ] 计划完成提醒
- [ ] 计划效果评估

**优先级:** 中  
**故事点数:** 13  
**依赖:** US-013

---

### 3.6 系统管理模块

#### US-015: 用户设置
**作为** 学习者  
**我希望** 能够自定义我的学习偏好  
**以便** 获得更好的学习体验  

**验收标准:**
- [ ] 设置每日学习目标
- [ ] 选择学习提醒时间
- [ ] 设置发音偏好（美音/英音）
- [ ] 选择界面主题
- [ ] 设置学习模式偏好
- [ ] 隐私设置
- [ ] 通知设置

**优先级:** 中  
**故事点数:** 5  
**依赖:** US-002

---

#### US-016: 数据导出
**作为** 学习者  
**我希望** 能够导出我的学习数据  
**以便** 备份或在其他平台使用  

**验收标准:**
- [ ] 导出学习进度数据
- [ ] 导出已掌握词汇列表
- [ ] 导出学习统计报告
- [ ] 支持多种格式（PDF、Excel、CSV）
- [ ] 数据完整性验证
- [ ] 导出进度提示

**优先级:** 低  
**故事点数:** 5  
**依赖:** US-010

---

### 3.7 教师功能模块

#### US-017: 学生管理
**作为** 教师  
**我希望** 能够管理我的学生  
**以便** 跟踪他们的学习进度  

**验收标准:**
- [ ] 添加学生到班级
- [ ] 查看学生列表
- [ ] 查看学生学习进度
- [ ] 为学生分配学习任务
- [ ] 发送学习提醒
- [ ] 生成班级学习报告

**优先级:** 低  
**故事点数:** 13  
**依赖:** US-002

---

#### US-018: 班级词库管理
**作为** 教师  
**我希望** 为班级创建专用词库  
**以便** 针对性地提高学生词汇水平  

**验收标准:**
- [ ] 创建班级专用词库
- [ ] 从现有词库选择词汇
- [ ] 设置词库学习期限
- [ ] 跟踪班级学习进度
- [ ] 词库学习排行榜
- [ ] 导出班级学习报告

**优先级:** 低  
**故事点数:** 8  
**依赖:** US-017

---

## 4. 用户故事优先级矩阵

| 优先级 | 用户故事 | 业务价值 | 技术复杂度 |
|--------|----------|----------|------------|
| 高 | US-001, US-002, US-004, US-005, US-007, US-008, US-009, US-013 | 高 | 中-高 |
| 中 | US-003, US-006, US-010, US-011, US-014, US-015 | 中-高 | 中 |
| 低 | US-012, US-016, US-017, US-018 | 中 | 低-中 |

## 5. 发布计划

### MVP (最小可行产品)
包含用户故事: US-001, US-002, US-004, US-005, US-007, US-008

### V1.0 正式版本
包含用户故事: MVP + US-003, US-009, US-010, US-013

### V1.1 增强版本
包含用户故事: V1.0 + US-006, US-011, US-014, US-015

### V2.0 完整版本
包含用户故事: V1.1 + US-012, US-016, US-017, US-018

## 6. 验收测试说明

每个用户故事的验收标准将作为测试用例的基础，确保功能符合用户需求和业务目标。测试将包括：

- 功能测试
- 用户体验测试
- 性能测试
- 兼容性测试
- 安全性测试

---

*本文档将根据项目进展和用户反馈持续更新。*